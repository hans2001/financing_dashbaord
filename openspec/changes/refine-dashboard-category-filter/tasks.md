## 1. Implementation
- [ ] 1.1 Extend `app/api/transactions/route.ts` and `summary/route.ts` so they accept repeated `category` query parameters and construct `where.normalizedCategory` using the multi-value logic; add validation/tests for the new query behavior.
- [ ] 1.2 Add a dedicated snapshot endpoint (e.g., `app/api/transactions/categories/route.ts`) or reuse the summary API without applying the current category filter so the client can request all categories for the chosen time period/accounts.
- [ ] 1.3 Hook the snapshot data into `useDashboardState` (via a new `useCategorySnapshot` helper) so there is a stable `categoryOptions` list that excludes the current `categoryFilters` from the `category` query string; include memoized helpers so only this hook knows how to normalize the options.
- [ ] 1.4 Update `useDashboardFilters.ts` to model multi-valued category filters (e.g., string array) and wire the setters into `useDashboardState`/`FiltersPanel`; ensure existing defaults (e.g., `{ categoryFilters: [] }`) keep the APIs consistent.
- [ ] 1.5 Refactor the filter components (`FiltersPanel`, `FilterTray`, `FilterChips`, etc.) to accept multi-category state, use the snapshot-driven options, and provide chip controls or multiselect dropdowns (prefer reusing shared/shadcn primitives) that let users add/remove categories without collapsing the chip strip.
- [ ] 1.6 Adjust `FlowsFilterControls`/other dependent components to keep working with the new category representation, and add tests that exercise the multi-select chips, the dropdown snapshot behavior, and the table filter integration.
- [ ] 1.7 Validate the change by running the new API/UX tests, verifying the filters continue to convert TypeScript defaults, and documenting the plan for any follow-up polish required by other open changes (e.g., `refine-dashboard-filter-ux`).
